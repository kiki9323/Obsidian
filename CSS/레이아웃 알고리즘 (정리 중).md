# 레이아웃 알고리즘
[(link) Understanding Layout Algorithms](https://www.joshwcomeau.com/css/understanding-layout-algorithms/)

## 레이아웃 알고리즘?
```
* Flexbox
* Positioned (ex. position: absolute)
* Grid
* Table
* Flow
```
위와 같은 것들이 레이아웃 알고리즘에 포함된다.

(기술적으로는 레이아웃 알고리즘이 아닌 레이아웃 모드라고 한다.)

브라우저가 HTML을 렌더링 할 때, 모든 요소는 기본 레이아웃 알고리즘을 사용하여 계산된 레이아웃을 갖는다.
또한, CSS 선언을 통해 다양한 레이아웃을 특정할 수 있다.  
예를 들어 `position: absolute`를 적용하면 요소가 위치 지정 레이아웃을 사용하도록 전환된다.


### 요소를 렌더링하는데 어떤 레이아웃 알고리즘이 사용되나?

#### Flow 레이아웃 

예시
```css
.box {
  z-index: 10;
}
```

`.box` 는 **flow 레이아웃**을 사용하여 렌더링 된다.
flow는 테이블이 아닌 Html 요소에 사용되는 기본 레이아웃 알고리즘이다.  

`z-index` 속성은 스택 순서를 제어하고, 겹쳐질 경우 "맨 위에" 표시되는 항목을 파악하는 데 사용된다.
문제는 flow 레이아웃에서는 구현되지 않았다는 것!
(flow는 문서 스타일 레이아웃을 만드는 데 관한 것이며 요소가 겹칠 수 있는 워드 프로세싱 소프트웨어는 아직 없다.)

**그래서 z-index 사용하려면 position 속성을 써야한다.**


### 근데 position 없이도 가능하다?! 
#### flexbox 레이아웃 에서 가능하다!!
```html
<style>
  .row {
    display: flex; // ✅
    gap: 16px;
  }
  .raised.item {
	  // position 어디~?!
    z-index: 2;
    background: hotpink;
  }
</style>

<ul class="row">
  <li class="item"></li>
  <li class="raised item"></li>
  <li class="item"></li>
</ul>
```
![](https://i.imgur.com/wq01edo.png)
### point는 멘탈 모델의 변화이다.
`position` 설정 없이 `z-index`가 잘 작동하는 이유는 `flexbox` 레이아웃 알고리즘을 사용했기 때문이다.
`css` 속성 자체는 의미가 없고, 수행할 작업과 계산에 사용 되는 방법을 정의하는 것은 **'레이아웃 알고리즘'** 에 달려있다.

이에 대한 예시로, 아래와 같은 코드가 있다.

```html
<style>
  .flex-wrapper {
    display: flex;
  }
  .item {
    width: 2000px;
  }
</style>

<div class="item"></div>

<div class="flex-wrapper">
  <div class="item"></div>
</div>
```

![](https://i.imgur.com/6dv51S0.png)

`width`가 2000px이어도, `flex` 컨테이너 내부에서 렌더링된 `.item` 은 flexbox 레이아웃을 사용하고 있다.
flexbox 레이아웃 알고리즘에서 width는 '제안(suggestion)'에 가깝다.

### Flexbox 레이아웃에서의 가상 크기 (Hypothetical Size)
목가적인 세게에서 아무런 제약이나 힘이 작용하지 않는 요소의 크기이다.  
2000px로 선언되었지만, 그보다 작은 컨테이너에 배치되었으므로 이를 수용할 수 있도록 축소가 된다.

## 레이아웃 알고리즘 식별
